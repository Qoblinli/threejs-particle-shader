<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>Three.js Template</title>
		<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
		<!-- build:css styles/combined.css -->
		<style type="text/css">
			html, body {padding: 0; margin: 0; overflow: hidden; cursor: default; height: 100%}
		</style>
    	<link href="styles/main.css" rel="stylesheet">
    	<!-- endbuild -->
	</head>
	<body>

		<div id="canvasContainer"></div>

 		<script type="x-shader/x-vertex" id="velVert">
			varying vec2 vUv;
			
			void main() {
				vUv = uv;
		    	gl_Position = projectionMatrix * modelViewMatrix * vec4(position,1.0);
		    }
		</script>
		<script type="x-shader/x-fragment" id="velFrag">
			uniform sampler2D velTex;
			varying vec2 vUv;

			void main() {
				vec3 velocity = texture2D(velTex, vUv).rgb;

				velocity = velocity + vec3(0.0, -1.0, 0.0);
			    gl_FragColor = vec4( velocity, 1.0 );
			}
		</script>




		<script type="x-shader/x-vertex" id="dispVert">
			uniform sampler2D velTex;
			
			void main() {
				vec3 velocity = texture2D(velTex, uv).rgb;
				vec3 newPosition = position + velocity;
				if(newPosition.y < -100.0){
					newPosition.y = -100.0;
				}
		    	gl_Position = projectionMatrix * modelViewMatrix * vec4(newPosition,1.0);
		    }
		</script>
		<script type="x-shader/x-fragment" id="dispFrag">
			void main() {
			    gl_FragColor = vec4( 1.0, 1.0, 1.0, 0.01);
			}
		</script>
		

		<!-- build:js main.js -->
		<script src="bower_components/jquery/dist/jquery.min.js"></script>
		<script src="bower_components/threejs/build/three.min.js"></script>
		<script src="src/OrbitControls.js"></script>
		<!-- endbuild -->

		<script src="src/main.js"></script>
	</body>
</html>
